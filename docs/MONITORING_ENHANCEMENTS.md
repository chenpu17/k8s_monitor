# ç›‘æ§ä¿¡æ¯å¤§å¹…å¢å¼º - v0.1.2

## æ¦‚è¿°

æ ¹æ®ç”¨æˆ·åé¦ˆ"ç›‘æ§ä¿¡æ¯å¤ªå°‘"ï¼Œv0.1.2 ç‰ˆæœ¬è¿›è¡Œäº†å…¨é¢å¢å¼ºï¼Œæ–°å¢äº† **Services**ã€**Storage (PV/PVC)**ã€**Workloads**ã€**Network** å››å¤§ç±»ç›‘æ§ä¿¡æ¯ã€‚

## æ–°å¢ç›‘æ§åŠŸèƒ½

### 1. ğŸ”Œ Services (æœåŠ¡) ç›‘æ§

**æ˜¾ç¤ºå†…å®¹**ï¼š
- **Total Services**: é›†ç¾¤ä¸­æ‰€æœ‰ Service çš„æ•°é‡
- **ClusterIP**: ClusterIP ç±»å‹çš„ Services æ•°é‡
- **NodePort**: NodePort ç±»å‹çš„ Services æ•°é‡
- **LoadBalancer**: LoadBalancer ç±»å‹çš„ Services æ•°é‡
- **Endpoint Count**: æ¯ä¸ª Service çš„å°±ç»ª Endpoint æ•°é‡

**æ•°æ®æ¥æº**: Kubernetes API Server (`/api/v1/services`)

**ç¤ºä¾‹è¾“å‡º**ï¼š
```
Services:
  Total:        45
  ClusterIP:    38
  NodePort:     5
  LoadBalancer: 2
```

### 2. ğŸ’¾ Storage (å­˜å‚¨) ç›‘æ§

#### PersistentVolumes (PV)
**æ˜¾ç¤ºå†…å®¹**ï¼š
- **Total**: PV æ€»æ•°å’Œæ€»å®¹é‡
- **Bound**: å·²ç»‘å®šçš„ PV æ•°é‡å’Œå®¹é‡
- **Available**: å¯ç”¨çš„ PV æ•°é‡
- **Released**: å·²é‡Šæ”¾çš„ PV æ•°é‡
- **Volume Type**: è‡ªåŠ¨è¯†åˆ«å­˜å‚¨ç±»å‹ï¼ˆNFSã€iSCSIã€CSIã€AWS-EBSã€GCE-PD ç­‰ï¼‰

#### PersistentVolumeClaims (PVC)
**æ˜¾ç¤ºå†…å®¹**ï¼š
- **Total**: PVC æ€»æ•°
- **Bound**: å·²ç»‘å®šçš„ PVC æ•°é‡
- **Pending**: ç­‰å¾…ç»‘å®šçš„ PVC æ•°é‡
- **Requested vs Capacity**: è¯·æ±‚å®¹é‡ä¸å®é™…åˆ†é…å®¹é‡å¯¹æ¯”

**æ•°æ®æ¥æº**: Kubernetes API Server (`/api/v1/persistentvolumes`, `/api/v1/persistentvolumeclaims`)

**ç¤ºä¾‹è¾“å‡º**ï¼š
```
Storage (PV):
  Total:     10 (500.0Gi)
  Bound:     8 (400.0Gi)
  Available: 2

Claims (PVC):
  Total:   8
  Bound:   8
  Pending: 0
```

### 3. ğŸ“‹ Workloads (å·¥ä½œè´Ÿè½½) ç»Ÿè®¡

**æ˜¾ç¤ºå†…å®¹**ï¼š
- **Deployments**: Deployment æ§åˆ¶å™¨æ•°é‡
- **StatefulSets**: StatefulSet æ§åˆ¶å™¨æ•°é‡
- **DaemonSets**: DaemonSet æ§åˆ¶å™¨æ•°é‡
- **Jobs**: Job èµ„æºæ•°é‡
- **CronJobs**: CronJob èµ„æºæ•°é‡

**æ£€æµ‹æ–¹æ³•**: åŸºäº Pod labels æ™ºèƒ½æ£€æµ‹
- `app.kubernetes.io/component`: deployment/statefulset/daemonset
- `job-name`: Jobs
- `batch.kubernetes.io/cronjob`: CronJobs

**æ•°æ®æ¥æº**: é€šè¿‡åˆ†æ Pod labels æ¨æ–­ï¼ˆè½»é‡çº§ï¼Œæ— é¢å¤– API è°ƒç”¨ï¼‰

**ç¤ºä¾‹è¾“å‡º**ï¼š
```
Workloads:
  Deployments:  12
  StatefulSets: 3
  DaemonSets:   7
  Jobs:         2
  CronJobs:     1
```

**æ³¨æ„**: å¦‚æœ Pods æ²¡æœ‰æ ‡å‡†åŒ– labelsï¼Œå¯èƒ½æ— æ³•æ£€æµ‹ã€‚æœªæ¥ç‰ˆæœ¬å°†æ”¯æŒç›´æ¥æŸ¥è¯¢ Deployment/StatefulSet APIã€‚

### 4. ğŸŒ Network (ç½‘ç»œ) ç›‘æ§

**æ˜¾ç¤ºå†…å®¹**ï¼š
- **RX (Received)**: é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹æ¥æ”¶çš„æ€»å­—èŠ‚æ•°
- **TX (Transmitted)**: é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹å‘é€çš„æ€»å­—èŠ‚æ•°
- **Rate (æœªæ¥)**: å®æ—¶æ¥æ”¶/å‘é€é€Ÿç‡

**æ•°æ®æ¥æº**: kubelet `/stats/summary` endpointï¼ˆéœ€è¦ kubelet metrics å¯ç”¨ï¼‰

**ç¤ºä¾‹è¾“å‡º**ï¼š
```
Network (Total):
  RX: 125.3Gi
  TX: 89.7Gi
```

**å…³äº "metrics unavailable"**:
å¦‚æœæ˜¾ç¤º `Network metrics unavailable`ï¼Œè¯´æ˜ kubelet metrics è·å–å¤±è´¥ï¼ˆé€šå¸¸æ˜¯ TLS è¯ä¹¦é—®é¢˜ï¼‰ã€‚ä¸å½±å“å…¶ä»–åŠŸèƒ½ã€‚

## æ–°å¢ç•Œé¢å¸ƒå±€

### Overview è§†å›¾ - ç´§å‡‘è‡ªé€‚åº”å¸ƒå±€ (v0.1.2+)

**ç”¨æˆ·åé¦ˆ**: "ç•Œé¢è¢«æ‹‰çš„å¤ªé«˜ï¼Œå¯¼è‡´ä¸Šé¢ç›‘æ§åŒºåŸŸæ— æ³•çœ‹åˆ°äº†"

**è§£å†³æ–¹æ¡ˆ**: å…¨æ–°ç´§å‡‘å¸ƒå±€è®¾è®¡ï¼Œä»åŸæ¥çš„ ~60-70 è¡Œç¼©å‡è‡³ ~25 è¡Œï¼Œå®Œç¾é€‚é…æ ‡å‡†ç»ˆç«¯ï¼

#### æ–°å¸ƒå±€ç»“æ„ (3è¡Œï¼Œè‡ªé€‚åº”å®½åº¦)

**ç¬¬ä¸€è¡Œ**: âš¡ **é›†ç¾¤è´Ÿè½½** (æœ€é‡è¦ - å§‹ç»ˆå¯è§)
- CPU/Memory/Network å®æ—¶ä½¿ç”¨ç‡
- 40å­—ç¬¦å®½è¿›åº¦æ¡ï¼ˆç´§å‡‘ä½†æ¸…æ™°ï¼‰
- é™çº§æ˜¾ç¤ºï¼šmetricsä¸å¯ç”¨æ—¶æ˜¾ç¤ºè¯·æ±‚é‡

**ç¬¬äºŒè¡Œ**: **èµ„æºè¯¦æƒ…** (5ä¸ªé¢æ¿æ°´å¹³æ’åˆ—)
- ğŸ’» CPU è¯¦æƒ… (25) + ğŸ§  Memory è¯¦æƒ… (25) + ğŸ“¦ Pods è¯¦æƒ… (20) + ğŸ–¥ï¸ Nodes (25) + âš ï¸ Events (23)

**ç¬¬ä¸‰è¡Œ**: **æœåŠ¡ä¸å·¥ä½œè´Ÿè½½** (4ä¸ªé¢æ¿æ°´å¹³æ’åˆ—)
- ğŸ”Œ Services (23) + ğŸ’¾ Storage (25) + ğŸ“‹ Workloads (23) + ğŸŒ Network (23)

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ âš¡ é›†ç¾¤è´Ÿè½½ (Cluster Load)                                                               â”‚
â”‚                                                                                         â”‚
â”‚ CPU: 45.2 / 96.0 (47.1%) â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                      â”‚
â”‚ Mem: 145.3Gi / 256.0Gi (56.8%) â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                â”‚
â”‚ Net: RX 125.3Gi | TX 89.7Gi                                                             â”‚
â”‚                                                                                         â”‚
â”‚ ğŸ’¡ Use --insecure-kubelet for actual usage metrics                                      â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ’» CPU            â”‚â”‚ ğŸ§  Memory         â”‚â”‚ ğŸ“¦ Pods      â”‚â”‚ ğŸ–¥ï¸  Nodes         â”‚â”‚ âš ï¸  Events      â”‚
â”‚                   â”‚â”‚                   â”‚â”‚              â”‚â”‚                   â”‚â”‚                 â”‚
â”‚ å®¹é‡:   96.0      â”‚â”‚ å®¹é‡:   256.0Gi   â”‚â”‚ å®¹é‡: 440    â”‚â”‚ Total:    41      â”‚â”‚ Total:   15     â”‚
â”‚ å¯åˆ†é…: 94.0      â”‚â”‚ å¯åˆ†é…: 240.0Gi   â”‚â”‚ è¿è¡Œ: 128    â”‚â”‚ Ready:    41      â”‚â”‚ Warning: 3      â”‚
â”‚ å·²è¯·æ±‚: 45.2      â”‚â”‚ å·²è¯·æ±‚: 128.5Gi   â”‚â”‚ ç­‰å¾…: 2      â”‚â”‚ NotReady: 0       â”‚â”‚ Error:   0      â”‚
â”‚ å®é™…:   45.2      â”‚â”‚ å®é™…:   145.3Gi   â”‚â”‚ å¤±è´¥: 0      â”‚â”‚                   â”‚â”‚                 â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ”Œ Services     â”‚â”‚ ğŸ’¾ Storage        â”‚â”‚ ğŸ“‹ Workloads    â”‚â”‚ ğŸŒ Network      â”‚
â”‚                 â”‚â”‚                   â”‚â”‚                 â”‚â”‚                 â”‚
â”‚ Total:   25     â”‚â”‚ PVs:  4 (200Gi)   â”‚â”‚ Deploy:  12     â”‚â”‚ RX: 125.3Gi     â”‚
â”‚ ClustIP: 20     â”‚â”‚ Bound: 4          â”‚â”‚ StatSet: 3      â”‚â”‚ TX: 89.7Gi      â”‚
â”‚ NodePt:  3      â”‚â”‚ PVCs: 4           â”‚â”‚ DaemSet: 7      â”‚â”‚                 â”‚
â”‚ LoadBal: 2      â”‚â”‚ Bound: 4          â”‚â”‚ Jobs:    2      â”‚â”‚                 â”‚
â”‚                 â”‚â”‚                   â”‚â”‚ Cron:    1      â”‚â”‚                 â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

#### å¸ƒå±€ä¼˜åŒ–äº®ç‚¹

| æ”¹è¿›é¡¹ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ•ˆæœ |
|--------|--------|--------|------|
| æ€»é«˜åº¦ | ~60-70 è¡Œ | ~25 è¡Œ | **å‡å°‘ 60%** âœ… |
| é›†ç¾¤è´Ÿè½½é¢æ¿ | å®½åº¦ 115, 15 è¡Œ | å®½åº¦ 95, 8 è¡Œ | **å‡å°‘ 47%** |
| è¿›åº¦æ¡å®½åº¦ | 60 å­—ç¬¦ | 40 å­—ç¬¦ | ç´§å‡‘ä½†æ¸…æ™° |
| è¯¦æƒ…é¢æ¿å®½åº¦ | 35 å­—ç¬¦ | 20-25 å­—ç¬¦ | èŠ‚çœç©ºé—´ |
| æ°´å¹³æ’åˆ— | 2 åˆ— | æœ€å¤š 5 åˆ— | å……åˆ†åˆ©ç”¨å®½åº¦ |
| é¡¶éƒ¨å¯è§æ€§ | âŒ æ»šåŠ¨ | âœ… å§‹ç»ˆå¯è§ | **è§£å†³ç”¨æˆ·ç—›ç‚¹** |

#### è‡ªé€‚åº”ç‰¹æ€§

- âœ… **é€‚é…æ ‡å‡†ç»ˆç«¯**: 25 è¡Œå®Œç¾é€‚é… 30-40 è¡Œç»ˆç«¯çª—å£
- âœ… **ä¿¡æ¯å¯†åº¦ä¼˜åŒ–**: ä¿æŒæ‰€æœ‰å…³é”®ä¿¡æ¯çš„åŒæ—¶å‡å°‘è§†è§‰å™ªéŸ³
- âœ… **ä¼˜å…ˆçº§æ˜ç¡®**: æœ€é‡è¦çš„é›†ç¾¤è´Ÿè½½å§‹ç»ˆåœ¨é¡¶éƒ¨
- âœ… **æ¸è¿›å¢å¼º**: ç»ˆç«¯å®½åº¦è¶³å¤Ÿæ—¶æ˜¾ç¤ºæ›´å¤šåˆ—

## æ•°æ®è·å–æ€§èƒ½

| æ•°æ®ç±»å‹ | API è°ƒç”¨ | æ•°æ®é‡ï¼ˆ43èŠ‚ç‚¹é›†ç¾¤ï¼‰ | è€—æ—¶ |
|---------|----------|---------------------|------|
| Services | 1x LIST | ~45 services | ~50ms |
| PVs | 1x LIST | ~10 PVs | ~30ms |
| PVCs | 1x LIST | ~8 PVCs | ~30ms |
| Endpoints (å¯é€‰) | Nx GET | 45 requests | ~100ms |
| **æ€»è®¡** | **3-4 ä¸ª API è°ƒç”¨** | **~60 èµ„æº** | **~200ms** |

**æ€§èƒ½å½±å“**: è½»å¾®å¢åŠ  200ms å·¦å³çš„æ•°æ®è·å–æ—¶é—´ï¼Œå¯¹ç”¨æˆ·ä½“éªŒå½±å“æå°ã€‚

## æŠ€æœ¯å®ç°ç»†èŠ‚

### æ–°å¢æ•°æ®ç»“æ„

```go
// ServiceData - Service å®Œæ•´ä¿¡æ¯
type ServiceData struct {
    Name         string
    Namespace    string
    Type         string // ClusterIP, NodePort, LoadBalancer
    ClusterIP    string
    ExternalIPs  []string
    Ports        []ServicePort
    EndpointCount int  // å°±ç»ª endpoint æ•°é‡
}

// PVData - PersistentVolume ä¿¡æ¯
type PVData struct {
    Name          string
    Capacity      int64  // bytes
    StorageClass  string
    Status        string // Bound, Available, Released, Failed
    Claim         string // namespace/pvc-name
    VolumeType    string // NFS, iSCSI, CSI-xxx, AWS-EBS, etc.
}

// PVCData - PersistentVolumeClaim ä¿¡æ¯
type PVCData struct {
    Name             string
    Namespace        string
    Status           string // Pending, Bound, Lost
    Volume           string // PV name
    Capacity         int64
    RequestedStorage int64
    StorageClass     string
}
```

### ClusterSummary æ–°å¢å­—æ®µ

```go
type ClusterSummary struct {
    // ... existing fields ...

    // Workload statistics
    TotalDeployments  int
    TotalStatefulSets int
    TotalDaemonSets   int
    TotalJobs         int
    TotalCronJobs     int

    // Service statistics
    TotalServices     int
    ClusterIPServices int
    NodePortServices  int
    LoadBalancerSvcs  int

    // Storage statistics
    TotalPVs         int
    BoundPVs         int
    AvailablePVs     int
    TotalPVCs        int
    BoundPVCs        int
    PendingPVCs      int
    TotalStorageSize int64 // Total PV capacity
    UsedStorageSize  int64 // Bound PV size

    // Network statistics
    NetworkRxBytes int64 // Total RX across all nodes
    NetworkTxBytes int64 // Total TX across all nodes
}
```

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: æœåŠ¡å‘ç°å’Œç«¯ç‚¹å¥åº·æ£€æŸ¥

```bash
./bin/k8s-monitor console
# æŒ‰ 1 æŸ¥çœ‹ Overview
# æ£€æŸ¥ Services éƒ¨åˆ†
# - æ€»æ•°æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Ÿ
# - LoadBalancer æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Ÿ
# - Endpoints æ•°é‡æ˜¯å¦æ­£ç¡®ï¼Ÿ
```

### åœºæ™¯ 2: å­˜å‚¨å®¹é‡è§„åˆ’

```bash
# æŸ¥çœ‹ Storage (PV) éƒ¨åˆ†
# - æ€»å®¹é‡ vs ä½¿ç”¨å®¹é‡
# - Available PVs æ•°é‡ï¼ˆæ˜¯å¦éœ€è¦åˆ›å»ºæ›´å¤šï¼Ÿï¼‰
# - Pending PVCsï¼ˆæ˜¯å¦æœ‰ PVC æ— æ³•ç»‘å®šï¼Ÿï¼‰

# ç¤ºä¾‹ï¼š
# Total: 10 (500.0Gi)
# Bound: 8 (400.0Gi)     â† 80% ä½¿ç”¨ç‡
# Available: 2           â† è¿˜æœ‰ 2 ä¸ªå¯ç”¨ï¼Œå¯èƒ½éœ€è¦å¢åŠ 
```

### åœºæ™¯ 3: å·¥ä½œè´Ÿè½½ç»Ÿè®¡å’Œå®¡è®¡

```bash
# æŸ¥çœ‹ Workloads éƒ¨åˆ†
# - é›†ç¾¤ä¸­æœ‰å¤šå°‘ Deploymentsï¼Ÿ
# - StatefulSets æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Ÿ
# - æ˜¯å¦æœ‰é—ç•™çš„ Jobs æœªæ¸…ç†ï¼Ÿ

# ç”¨äºå¿«é€Ÿäº†è§£é›†ç¾¤å·¥ä½œè´Ÿè½½ç±»å‹åˆ†å¸ƒ
```

### åœºæ™¯ 4: ç½‘ç»œæµé‡åˆ†æ

```bash
# æŸ¥çœ‹ Network éƒ¨åˆ†
# - RX/TX æ€»é‡ï¼ˆç´¯è®¡ï¼‰
# - ç”¨äºäº†è§£é›†ç¾¤ç½‘ç»œä½¿ç”¨æƒ…å†µ
# - æœªæ¥ç‰ˆæœ¬å°†æ”¯æŒå®æ—¶é€Ÿç‡
```

## ä¸å…¶ä»–å·¥å…·å¯¹æ¯”

| åŠŸèƒ½ | k8s-monitor v0.1.2 | kubectl | k9s | Lens |
|------|-------------------|---------|-----|------|
| Services ç»Ÿè®¡ | âœ… ç±»å‹åˆ†å¸ƒ + Endpoints | âŒ | âœ… åˆ—è¡¨ | âœ… è¯¦æƒ… |
| PV/PVC ç»Ÿè®¡ | âœ… å®¹é‡æ±‡æ€» + çŠ¶æ€ | âŒ | âœ… åˆ—è¡¨ | âœ… è¯¦æƒ… |
| Workloads ç»Ÿè®¡ | âœ… è‡ªåŠ¨æ£€æµ‹ | âŒ | âœ… åˆ—è¡¨ | âœ… è¯¦æƒ… |
| Network ç»Ÿè®¡ | âœ… æ€»æµé‡ | âŒ | âŒ | âœ… å›¾è¡¨ |
| ä¸€å±æ€»è§ˆ | âœ… | âŒ | âŒ | âŒ |
| æ— éœ€éƒ¨ç½² | âœ… | âœ… | âœ… | âŒ |

**k8s-monitor ä¼˜åŠ¿**: åœ¨ä¸€ä¸ªå±å¹•ä¸Šæ±‡æ€»æ‰€æœ‰å…³é”®ä¿¡æ¯ï¼Œæ— éœ€åˆ‡æ¢è§†å›¾ã€‚

## å·²çŸ¥é™åˆ¶

### 1. Workloads æ£€æµ‹åŸºäº Labels

å½“å‰ Workloads ç»Ÿè®¡é€šè¿‡ Pod labels æ£€æµ‹ï¼Œå¦‚æœæ‚¨çš„åº”ç”¨æ²¡æœ‰ä½¿ç”¨æ ‡å‡†åŒ– labelsï¼ˆå¦‚ Helm chartsï¼‰ï¼Œå¯èƒ½æ— æ³•æ£€æµ‹ã€‚

**æœªæ¥æ”¹è¿›**: å°†ç›´æ¥æŸ¥è¯¢ Deployments/StatefulSets APIã€‚

### 2. Network æŒ‡æ ‡ä¾èµ– kubelet

Network ç»Ÿè®¡éœ€è¦ kubelet `/stats/summary` endpoint å¯è®¿é—®ã€‚å¦‚æœæ˜¾ç¤º "unavailable"ï¼š
- æ£€æŸ¥ kubelet TLS è¯ä¹¦é…ç½®
- æˆ–ç­‰å¾… v0.2 æ”¯æŒ `--insecure-kubelet` é€‰é¡¹

### 3. Endpoints æŸ¥è¯¢å¯èƒ½è¾ƒæ…¢

æ¯ä¸ª Service éƒ½ä¼šé¢å¤–æŸ¥è¯¢ Endpoints æ•°é‡ï¼Œåœ¨æœ‰å¤§é‡ Services çš„é›†ç¾¤ä¸­å¯èƒ½å¢åŠ å»¶è¿Ÿã€‚

**æœªæ¥æ”¹è¿›**: å°† Endpoints æŸ¥è¯¢è®¾ä¸ºå¯é€‰ï¼Œæˆ–ä½¿ç”¨ LIST ä¸€æ¬¡æ€§è·å–æ‰€æœ‰ Endpointsã€‚

## é…ç½®é€‰é¡¹

ç›®å‰æ‰€æœ‰æ–°åŠŸèƒ½é»˜è®¤å¯ç”¨ï¼Œæ— éœ€é…ç½®ã€‚æœªæ¥ç‰ˆæœ¬å°†æ”¯æŒï¼š

```yaml
# config/config.yaml (æœªæ¥)
monitoring:
  services:
    enabled: true
    include_endpoints: false  # è·³è¿‡ endpoint æŸ¥è¯¢ä»¥æå‡æ€§èƒ½

  storage:
    enabled: true

  workloads:
    enabled: true
    detection_method: labels  # labels | api (æœªæ¥æ”¯æŒ)

  network:
    enabled: true
```

## ä¸‹ä¸€æ­¥æ”¹è¿›ï¼ˆv0.2ï¼‰

è®¡åˆ’æ·»åŠ ï¼š
- [ ] ç‹¬ç«‹çš„ **Services åˆ—è¡¨è§†å›¾**ï¼ˆæŒ‰ 4 é”®ï¼‰
- [ ] ç‹¬ç«‹çš„ **Storage è¯¦æƒ…è§†å›¾**ï¼ˆæŒ‰ 5 é”®ï¼ŒPV/PVC è¯¦æƒ…ï¼‰
- [ ] **Network å®æ—¶é€Ÿç‡** è®¡ç®—ï¼ˆbytes/secï¼‰
- [ ] **Top Pods è§†å›¾** - èµ„æºæ¶ˆè€—æœ€é«˜çš„ Pods
- [ ] **Workloads API** ç›´æ¥æŸ¥è¯¢ Deployments/StatefulSets
- [ ] **Pod æ‰€å±å·¥ä½œè´Ÿè½½** æ˜¾ç¤ºï¼ˆåœ¨ Pod è¯¦æƒ…ä¸­ï¼‰
- [ ] **Service Endpoints è¯¦æƒ…** å±•å¼€æŸ¥çœ‹

## æ€»ç»“

v0.1.2 ç‰ˆæœ¬å“åº”ç”¨æˆ·éœ€æ±‚ï¼Œå°†ç›‘æ§ä¿¡æ¯ä»å•çº¯çš„**èµ„æºç›‘æ§**ï¼ˆCPU/Memoryï¼‰æ‰©å±•åˆ°**å…¨æ–¹ä½é›†ç¾¤ç›‘æ§**ï¼š

- âœ… **Services** - äº†è§£æœåŠ¡åˆ†å¸ƒå’Œå¥åº·çŠ¶æ€
- âœ… **Storage** - å­˜å‚¨å®¹é‡è§„åˆ’å’Œ PVC ç»‘å®šçŠ¶æ€
- âœ… **Workloads** - å·¥ä½œè´Ÿè½½ç±»å‹ç»Ÿè®¡
- âœ… **Network** - ç½‘ç»œæµé‡æ±‡æ€»

æ‰€æœ‰ä¿¡æ¯åœ¨ä¸€ä¸ªå±å¹•ä¸Šå±•ç¤ºï¼ŒçœŸæ­£å®ç°**"ä¸€å±æŒæ¡é›†ç¾¤å…¨è²Œ"**ï¼

---

**ç‰ˆæœ¬**: v0.1.2
**æ—¥æœŸ**: 2025-11-06
**æ”¹è¿›**: ä»èµ„æºç›‘æ§åˆ°å…¨æ–¹ä½é›†ç¾¤ç›‘æ§ç³»ç»Ÿ
